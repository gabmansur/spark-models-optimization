# Spark config for LOCAL development runs.
# These settings enable adaptive query execution (AQE), skew handling,
# and reasonable file/partition defaults that make local benchmarking realistic.

spark.sql.adaptive.enabled=true
spark.sql.adaptive.skewJoin.enabled=true
spark.sql.autoBroadcastJoinThreshold=50m
spark.sql.shuffle.partitions=200
spark.sql.files.maxPartitionBytes=128m
spark.sql.files.openCostInBytes=4194304
spark.default.parallelism=8

# Windows safety
spark.hadoop.mapreduce.fileoutputcommitter.algorithm.version=2
spark.hadoop.mapreduce.fileoutputcommitter.cleanup-failures.ignored=true
spark.hadoop.fs.file.impl=org.apache.hadoop.fs.RawLocalFileSystem
spark.local.dir=C:/tmp/spark